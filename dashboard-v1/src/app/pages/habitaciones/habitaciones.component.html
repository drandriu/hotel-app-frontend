<div>
  <div
    class="flex w-full flex-wrap items-center justify-between rounded-2xl px-12 py-6 md:flex-nowrap"
    style="
      background-color: url('https://www.transparenttextures.com/patterns/cubes.png');
      background-image: linear-gradient(
        to right top,
        #66bb6a,
        #43a047,
        #388e3c,
        #2c6e2f,
        #1b5e20
      );
    "
  >
    <div>
      <h3 class="m-0 flex items-center text-lg font-medium text-white">
        Habitaciones
      </h3>
      <div class="my-4 overflow-hidden text-sm font-normal text-white">
        Gestión de habitaciones.
      </div>
    </div>
    <img
      class="w-24 object-cover object-center md:w-44"
      src="assets/images/hotelIcono.png"
      alt="Icono de habitación"
    />
  </div>
</div>
<div class="flex justify-center mt-4">
  <button
    class="bg-green-500 text-white p-2 rounded-md"
    [routerLink]="['/admin/habitaciones/registro']"
  >
    Registrar nueva habitación
  </button>
</div>
<!-- Filtros de búsqueda -->
<div class="mt-4">
  <div class="flex gap-4">
    <div>
      <label for="filterId" class="block text-sm text-white">id Habitacion</label>
      <input
        id="filterId"
        type="text"
        [(ngModel)]="filters.id"
        name="id"
        class="p-2 rounded-md bg-gray-700 text-white"
        placeholder="Buscar por id habitacion"
      />
    </div>
    <div>
      <label for="filterNombre" class="block text-sm text-white">id Hotel</label>
      <input
        id="filterNombre"
        type="text"
        [(ngModel)]="filters.idHotel"
        name="nombre"
        class="p-2 rounded-md bg-gray-700 text-white"
        placeholder="Buscar por id Hotel"
      />
    </div>
    <div>
      <label for="filterDireccion" class="block text-sm text-white">Numero</label>
      <input
        id="filterDireccion"
        type="text"
        [(ngModel)]="filters.numeroHabitacion"
        name="direccion"
        class="p-2 rounded-md bg-gray-700 text-white"
        placeholder="Buscar por numero"
      />
    </div>
    <div>
      <label for="filterTelefono" class="block text-sm text-white">Precio por noche</label>
      <input
        id="filterTelefono"
        type="text"
        [(ngModel)]="filters.precioNoche"
        name="telefono"
        class="p-2 rounded-md bg-gray-700 text-white"
        placeholder="Buscar por precio Noche"
      />
    </div>
    <div class="flex items-end">
      <button
        (click)="buscarHabitaciones()"
        class="bg-blue-500 text-white p-2 rounded-md"
      >
        Buscar
      </button>
    </div>
  </div>
</div>
<div class="mt-8 rounded-2xl" style="background: rgb(146 151 179 / 13%)">
  <div class="container mx-auto">
    <div class="py-8">
      <div class="py-4">
        <div class="max-w-full overflow-x-auto rounded-lg">
          <table class="w-full leading-normal text-white">
            <thead>
              <tr>
                <th class="border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase">
                  Id Habitacion
                </th>
                <th class="border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase">
                  Id Hotel
                </th>
                <th class="border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase">
                  Número
                </th>
                <th class="border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase">
                  Tipo
                </th>
                <th class="border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase">
                  Precio por noche
                </th>
                <th class="border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase">
                  Acciones
                </th>
              </tr>
            </thead>
            <tbody *ngIf="habitaciones.length > 0; else noData" class="text-white">
              <tr *ngFor="let habitacion of habitaciones">
                <td class="border-b border-gray-200 p-5 text-sm">
                  <p class="whitespace-nowrap">{{ habitacion.id }}</p>
                </td>
                <td class="border-b border-gray-200 p-5 text-sm">
                  <p class="whitespace-nowrap">{{ habitacion.idHotel }}</p>
                </td>
                <td class="border-b border-gray-200 p-5 text-sm">
                  <p class="whitespace-nowrap">{{ habitacion.numeroHabitacion }}</p>
                </td>
                <td class="border-b border-gray-200 p-5 text-sm">
                  <p class="whitespace-nowrap">{{ habitacion.tipo }}</p>
                </td>
                <td class="border-b border-gray-200 p-5 text-sm">
                  <p class="whitespace-nowrap">{{ habitacion.precioNoche | currency }}</p>
                </td>
                <td class="border-b border-gray-200 p-5 text-sm flex gap-2">
                  <button
                    (click)="eliminarHabitacion(habitacion.id)"
                    class="bg-red-500 text-white p-2 rounded-md"
                  >
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  </button>
                  <button
                    class="bg-green-500 text-white p-2 rounded-md"
                    [routerLink]="['/admin/habitaciones/editar', habitacion.id]"
                  >
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 20h9m-9 0a3 3 0 01-3-3V8a3 3 0 013-3m0 0h3m-3 0a3 3 0 00-3 3v9a3 3 0 003 3m0 0h3m-3 0a3 3 0 01-3-3V8a3 3 0 013-3m0 0h3" />
                  </svg>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
          <ng-template #noData>
            <p class="text-center text-white p-5">No hay habitaciones disponibles.</p>
          </ng-template>
        </div>

        <div class="flex justify-center mt-4">
          <button
            (click)="irAPagina(currentPage - 1)"
            [disabled]="currentPage === 0"
            class="bg-green-500 text-white p-2 rounded-md"
          >
            Anterior
          </button>
          <span class="mx-2 text-white">
            Página {{ currentPage + 1 }} de {{ totalPages }}
          </span>
          <button
            (click)="irAPagina(currentPage + 1)"
            [disabled]="currentPage === totalPages - 1"
            class="bg-green-500 text-white p-2 rounded-md"
          >
            Siguiente
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
